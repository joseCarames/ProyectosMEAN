<html>

<head></head>

<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript">

let xmlHttp = new XMLHttpRequest();


function mostrarResultado(respuesta){
    document.getElementById("resultado").innerHTML = respuesta;
}

function error(respuesta){
    $("<h1><font color='red'>ERROR!</font></h1>").appendTo($("#resultado"));
}

$(function(){//petición síncrona con el método ajax de JQuery
    $("#btnBuscar").click(function(){
        let nombre = $("#nombre").val();
        $.ajax({ 'url'     : 'http://localhost:8080/REST/servicios/buscarCliente?nombre='+nombre,
                 'success' : mostrarResultado,
                 'async'   : false,//ya que la petición es síncrona
                 'error'   : error})
    })
});

$(function(){//petición Asíncrona
    $("#btnBuscarA").click(function(){
        let nombre = $("#nombreA").val();
        $.ajax({ 'url'     : 'http://localhost:8080/REST/servicios/buscarCliente?nombre='+nombre,
                 'success' : mostrarResultado,
                 'error'   : error})
    })
});

</script>

<body>
        <h2 align="center">Petición síncrona</h2>
        <p align="center">
            Nombre
            <input type="text" id="nombre"/>
            <input type="button" id="btnBuscar" value="Buscar"/>
        </p>

        <hr/>
         
        <h2 align="center">Petición asíncrona</h2>
        <p align="center">
            Nombre
            <input type="text" id="nombreA"/>
            <input type="button" id="btnBuscarA" value="Buscar"/>
        </p>
        <p align="center" id="resultado">

        </p>


</body>


</html>
